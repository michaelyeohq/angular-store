<app-button
  color="{{ showAddProduct ? 'red' : 'green' }}"
  text="{{ showAddProduct ? 'Close' : 'Add' }}"
  (btnClick)="toggleAddProduct()"
></app-button>
<app-form
  *ngIf="showAddProduct && !isLoading"
  (onProductAdded)="onAddProduct($event)"
></app-form>
<div *ngIf="isLoading" class="loading">
  <app-loading></app-loading>
</div>
<!-- <app-products-table *ngIf="!showAddProduct" [products]="products"></app-products-table> -->
<table
  mat-table
  *ngIf="!showAddProduct"
  [dataSource]="products"
  class="mat-elevation-z8"
>
  <ng-container matColumnDef="id">
    <th mat-header-cell *matHeaderCellDef>Id</th>
    <td mat-cell *matCellDef="let element">{{ element.id }}</td>
  </ng-container>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef>Name</th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
  </ng-container>

  <ng-container matColumnDef="price">
    <th mat-header-cell *matHeaderCellDef>Price</th>
    <td mat-cell *matCellDef="let element">{{ element.price }}</td>
  </ng-container>

  <ng-container matColumnDef="quantity">
    <th mat-header-cell *matHeaderCellDef>Quantity</th>
    <td mat-cell *matCellDef="let element">{{ element.quantity }}</td>
  </ng-container>

  <ng-container matColumnDef="image">
    <th mat-header-cell *matHeaderCellDef>Image</th>
    <td mat-cell *matCellDef="let element">
      <img style="width: 120px; height: 120px;" src="{{ element.image }}" alt="" />
    </td>
  </ng-container>

  <ng-container matColumnDef="actions">
    <th mat-header-cell *matHeaderCellDef>Actions</th>
    <td mat-cell *matCellDef="let element">
      <button mat-button (click)="onDeleteProduct(element)">
        <i class="fas fa-trash-alt" style="font-size: 24px; color: red"></i>
      </button>
    </td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
</table>
